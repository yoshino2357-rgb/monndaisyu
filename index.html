<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•™ç§‘åˆ¥å•é¡Œé›†ç®¡ç†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #667eea;
            font-size: 2.5em;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
        }
        
        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            height: fit-content;
        }
        
        .sidebar h2 {
            margin-bottom: 20px;
            color: #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
        }
        
        .btn-add {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5em;
        }
        
        .btn-danger {
            background: #ff6b6b;
            color: white;
            padding: 5px 10px;
        }
        
        .btn-success {
            background: #51cf66;
            color: white;
        }
        
        .subject-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
        }
        
        .subject-item:hover {
            background: #e9ecef;
        }
        
        .subject-item.active {
            background: #e5e9ff;
            border: 2px solid #667eea;
        }
        
        .content-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab {
            padding: 15px 30px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            font-weight: bold;
        }
        
        .tab:hover {
            background: #f8f9fa;
        }
        
        .book-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #e9ecef;
        }
        
        .book-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }
        
        .book-info {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            color: #666;
            font-size: 0.9em;
        }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .progress-input {
            display: flex;
            gap: 10px;
        }
        
        .progress-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
        }
        
        .alert-warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .alert-danger {
            background: #f8d7da;
            color: #721c24;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
        }
        
        .modal-content h2 {
            margin-bottom: 20px;
            color: #333;
        }
        
        .modal-content input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
        }
        
        .modal-buttons button {
            flex: 1;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
        }
        
        .calendar-day.has-progress {
            background: #e5e9ff;
            border-color: #667eea;
        }
        
        .calendar-header {
            font-weight: bold;
            color: #666;
            padding: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px;
            color: #999;
            font-size: 1.2em;
        }
        
        .book-progress-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        
        .book-progress-item {
            margin-bottom: 20px;
        }
        
        .book-progress-item:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“š æ•™ç§‘åˆ¥å•é¡Œé›†ç®¡ç†ã‚¢ãƒ—ãƒª</h1>
        </header>

        <div class="main-grid">
            <div class="sidebar">
                <h2>
                    æ•™ç§‘ä¸€è¦§
                    <button class="btn btn-add" onclick="showAddSubjectModal()">+</button>
                </h2>
                <div id="subjectList"></div>
            </div>

            <div class="content-area">
                <div id="mainContent">
                    <div class="empty-state">
                        å·¦ã‹ã‚‰æ•™ç§‘ã‚’é¸æŠã—ã¦ãã ã•ã„
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ•™ç§‘è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="addSubjectModal" class="modal">
        <div class="modal-content">
            <h2>æ•™ç§‘ã‚’è¿½åŠ </h2>
            <input type="text" id="subjectName" placeholder="æ•™ç§‘åï¼ˆä¾‹: æ•°å­¦ï¼‰">
            <div class="modal-buttons">
                <button class="btn" onclick="closeModal('addSubjectModal')">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                <button class="btn btn-primary" onclick="addSubject()">è¿½åŠ </button>
            </div>
        </div>
    </div>

    <!-- å•é¡Œé›†è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="addBookModal" class="modal">
        <div class="modal-content">
            <h2>å•é¡Œé›†ã‚’è¿½åŠ </h2>
            <input type="text" id="bookName" placeholder="å•é¡Œé›†å">
            <input type="number" id="bookPages" placeholder="ç·ãƒšãƒ¼ã‚¸æ•°" min="1">
            <input type="date" id="bookDeadline">
            <div class="modal-buttons">
                <button class="btn" onclick="closeModal('addBookModal')">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                <button class="btn btn-primary" onclick="addBook()">è¿½åŠ </button>
            </div>
        </div>
    </div>

    <script>
        let subjects = [];
        let selectedSubjectId = null;
        let currentTab = 'books';

        function loadData() {
            try {
                const data = localStorage.getItem('study-data');
                if (data) {
                    subjects = JSON.parse(data);
                }
            } catch (error) {
                console.log('åˆå›èµ·å‹•');
            }
            renderSubjects();
        }

        function saveData() {
            try {
                localStorage.setItem('study-data', JSON.stringify(subjects));
                renderSubjects();
            } catch (error) {
                console.error('ä¿å­˜ã‚¨ãƒ©ãƒ¼:', error);
                alert('ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message);
            }
        }

        function renderSubjects() {
            const list = document.getElementById('subjectList');
            if (subjects.length === 0) {
                list.innerHTML = '<div class="empty-state" style="padding: 20px;">æ•™ç§‘ãŒã‚ã‚Šã¾ã›ã‚“</div>';
                return;
            }

            list.innerHTML = subjects.map(s => `
                <div class="subject-item ${s.id === selectedSubjectId ? 'active' : ''}" onclick="selectSubject(${s.id})">
                    <div>
                        <div style="font-weight: bold;">${s.name}</div>
                        <div style="font-size: 0.9em; color: #666;">${s.books.length}å†Š</div>
                    </div>
                    <button class="btn btn-danger" onclick="event.stopPropagation(); deleteSubject(${s.id})">å‰Šé™¤</button>
                </div>
            `).join('');
        }

        function selectSubject(id) {
            selectedSubjectId = id;
            renderSubjects();
            renderContent();
        }

        function renderContent() {
            const subject = subjects.find(s => s.id === selectedSubjectId);
            if (!subject) return;

            const content = document.getElementById('mainContent');
            content.innerHTML = `
                <div class="tabs">
                    <button class="tab ${currentTab === 'books' ? 'active' : ''}" onclick="switchTab('books')">ğŸ“š å•é¡Œé›†</button>
                    <button class="tab ${currentTab === 'calendar' ? 'active' : ''}" onclick="switchTab('calendar')">ğŸ“… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</button>
                    <button class="tab ${currentTab === 'stats' ? 'active' : ''}" onclick="switchTab('stats')">ğŸ“Š çµ±è¨ˆ</button>
                </div>
                <div id="tabContent"></div>
            `;

            renderTab();
        }

        function switchTab(tab) {
            currentTab = tab;
            renderContent();
        }

        function renderTab() {
            const subject = subjects.find(s => s.id === selectedSubjectId);
            const content = document.getElementById('tabContent');

            if (currentTab === 'books') {
                renderBooksTab(subject, content);
            } else if (currentTab === 'calendar') {
                renderCalendarTab(subject, content);
            } else if (currentTab === 'stats') {
                renderStatsTab(subject, content);
            }
        }

        function renderBooksTab(subject, content) {
            if (subject.books.length === 0) {
                content.innerHTML = `
                    <button class="btn btn-primary" onclick="showAddBookModal()" style="width: 100%; padding: 20px; font-size: 1.2em;">
                        â• å•é¡Œé›†ã‚’è¿½åŠ 
                    </button>
                    <div class="empty-state">å•é¡Œé›†ãŒã‚ã‚Šã¾ã›ã‚“</div>
                `;
                return;
            }

            content.innerHTML = `
                <button class="btn btn-primary" onclick="showAddBookModal()" style="width: 100%; padding: 15px; margin-bottom: 20px;">
                    â• å•é¡Œé›†ã‚’è¿½åŠ 
                </button>
                ${subject.books.map(book => {
                    const progress = (book.completed / book.totalPages) * 100;
                    const daysLeft = Math.ceil((new Date(book.deadline) - new Date()) / (1000 * 60 * 60 * 24));
                    const isUrgent = daysLeft <= 7 && daysLeft >= 0;
                    const isOverdue = daysLeft < 0;

                    return `
                        <div class="book-card">
                            <div class="book-header">
                                <div>
                                    <h3 style="margin-bottom: 10px;">${book.name}</h3>
                                    <div class="book-info">
                                        <span>ç·: ${book.totalPages}p</span>
                                        <span>å®Œäº†: ${book.completed}p</span>
                                        <span style="color: ${isOverdue ? '#dc3545' : isUrgent ? '#fd7e14' : '#666'};">
                                            æœŸé™: ${book.deadline} ${isOverdue ? '(æœŸé™åˆ‡ã‚Œ)' : isUrgent ? `(ã‚ã¨${daysLeft}æ—¥)` : ''}
                                        </span>
                                    </div>
                                </div>
                                <button class="btn btn-danger" onclick="deleteBook(${book.id})">å‰Šé™¤</button>
                            </div>
                            ${(isUrgent || isOverdue) ? `
                                <div class="alert ${isOverdue ? 'alert-danger' : 'alert-warning'}">
                                    âš ï¸ ${isOverdue ? 'æœŸé™ãŒéãã¦ã„ã¾ã™ï¼' : 'æœŸé™ãŒè¿‘ã¥ã„ã¦ã„ã¾ã™ï¼'}
                                </div>
                            ` : ''}
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%;">
                                    ${progress.toFixed(1)}%
                                </div>
                            </div>
                            <div class="progress-input">
                                <input type="number" id="pages-${book.id}" placeholder="ä»Šæ—¥ã‚„ã£ãŸãƒšãƒ¼ã‚¸æ•°" min="1">
                                <button class="btn btn-success" onclick="addProgress(${book.id})">è¿½åŠ </button>
                            </div>
                        </div>
                    `;
                }).join('')}
            `;
        }

        function renderCalendarTab(subject, content) {
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();

            const days = [];
            for (let i = 0; i < startingDayOfWeek; i++) {
                days.push(null);
            }
            for (let i = 1; i <= daysInMonth; i++) {
                days.push(i);
            }

            const dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];

            content.innerHTML = `
                <h2 style="text-align: center; margin-bottom: 30px;">${year}å¹´ ${month + 1}æœˆ</h2>
                <div class="calendar">
                    ${dayNames.map(name => `<div class="calendar-header">${name}</div>`).join('')}
                    ${days.map(day => {
                        if (!day) return '<div></div>';
                        
                        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                        let totalPages = 0;
                        subject.books.forEach(book => {
                            book.progress.forEach(p => {
                                if (p.date === dateStr) {
                                    totalPages += p.pages;
                                }
                            });
                        });

                        return `
                            <div class="calendar-day ${totalPages > 0 ? 'has-progress' : ''}">
                                <div style="font-weight: bold;">${day}</div>
                                ${totalPages > 0 ? `<div style="color: #667eea; font-weight: bold; font-size: 0.9em;">${totalPages}p</div>` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function renderStatsTab(subject, content) {
            const today = new Date();
            const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
            const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);

            let weeklyPages = 0;
            let monthlyPages = 0;
            let totalProgress = 0;
            let totalPages = 0;

            subject.books.forEach(book => {
                totalProgress += book.completed;
                totalPages += book.totalPages;
                book.progress.forEach(p => {
                    const pDate = new Date(p.date);
                    if (pDate >= weekAgo) weeklyPages += p.pages;
                    if (pDate >= monthAgo) monthlyPages += p.pages;
                });
            });

            const overallProgress = totalPages > 0 ? (totalProgress / totalPages) * 100 : 0;

            content.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">ä»Šé€±ã®å­¦ç¿’é‡</div>
                        <div class="stat-value">${weeklyPages}</div>
                        <div class="stat-label">ãƒšãƒ¼ã‚¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ä»Šæœˆã®å­¦ç¿’é‡</div>
                        <div class="stat-value">${monthlyPages}</div>
                        <div class="stat-label">ãƒšãƒ¼ã‚¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ç·é€²æ—</div>
                        <div class="stat-value">${totalProgress}</div>
                        <div class="stat-label">/ ${totalPages} ãƒšãƒ¼ã‚¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">å…¨ä½“é€²æ—ç‡</div>
                        <div class="stat-value">${overallProgress.toFixed(1)}%</div>
                    </div>
                </div>

                <div class="book-progress-list">
                    <h3 style="margin-bottom: 20px;">å•é¡Œé›†åˆ¥é€²æ—</h3>
                    ${subject.books.map(book => {
                        const progress = (book.completed / book.totalPages) * 100;
                        return `
                            <div class="book-progress-item">
                                <div style="display: flex; justify-between; margin-bottom: 10px;">
                                    <span style="font-weight: bold;">${book.name}</span>
                                    <span>${book.completed} / ${book.totalPages} ãƒšãƒ¼ã‚¸ (${progress.toFixed(1)}%)</span>
                                </div>
                                <div class="progress-bar" style="margin: 0;">
                                    <div class="progress-fill" style="width: ${progress}%;"></div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function showAddSubjectModal() {
            document.getElementById('addSubjectModal').classList.add('show');
            document.getElementById('subjectName').value = '';
            document.getElementById('subjectName').focus();
        }

        function showAddBookModal() {
            document.getElementById('addBookModal').classList.add('show');
            document.getElementById('bookName').value = '';
            document.getElementById('bookPages').value = '';
            document.getElementById('bookDeadline').value = '';
            document.getElementById('bookName').focus();
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('show');
        }

        function addSubject() {
            const name = document.getElementById('subjectName').value.trim();
            if (!name) return;

            subjects.push({
                id: Date.now(),
                name,
                books: []
            });

            closeModal('addSubjectModal');
            saveData();
        }

        function deleteSubject(id) {
            if (!confirm('ã“ã®æ•™ç§‘ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return;
            subjects = subjects.filter(s => s.id !== id);
            if (selectedSubjectId === id) {
                selectedSubjectId = null;
                document.getElementById('mainContent').innerHTML = '<div class="empty-state">å·¦ã‹ã‚‰æ•™ç§‘ã‚’é¸æŠã—ã¦ãã ã•ã„</div>';
            }
            saveData();
        }

        function addBook() {
            const name = document.getElementById('bookName').value.trim();
            const pages = parseInt(document.getElementById('bookPages').value);
            const deadline = document.getElementById('bookDeadline').value;

            if (!name || !pages || !deadline) {
                alert('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const bookId = Date.now();

            subjects = subjects.map(s => {
                if (s.id === selectedSubjectId) {
                    return {
                        ...s,
                        books: [...s.books, {
                            id: bookId,
                            name,
                            totalPages: pages,
                            deadline,
                            completed: 0,
                            progress: []
                        }]
                    };
                }
                return s;
            });

            saveData();
            
            // é€šçŸ¥ã‚¢ãƒ—ãƒªã«æœŸé™é€šçŸ¥ã‚’é€ä¿¡
            sendDeadlineNotifications(name, deadline);
            
            renderContent();
            closeModal('addBookModal');
        }

        function sendDeadlineNotifications(bookName, deadline) {
            const deadlineDate = new Date(deadline);
            
            // 3æ—¥å‰ã®é€šçŸ¥
            const threeDaysBefore = new Date(deadlineDate);
            threeDaysBefore.setDate(threeDaysBefore.getDate() - 3);
            threeDaysBefore.setHours(9, 0, 0, 0); // æœ9æ™‚
            
            if (threeDaysBefore > new Date()) {
                const notif1 = {
                    title: `${bookName}ã®æœŸé™ã¾ã§ã‚ã¨3æ—¥`,
                    message: 'å•é¡Œé›†ã®æœŸé™ãŒè¿‘ã¥ã„ã¦ã„ã¾ã™',
                    datetime: threeDaysBefore.toISOString().slice(0, 16),
                    source: 'å•é¡Œé›†ã‚¢ãƒ—ãƒª'
                };
                localStorage.setItem('notification-request', JSON.stringify(notif1));
                setTimeout(() => {
                    // 1æ—¥å‰ã®é€šçŸ¥
                    const oneDayBefore = new Date(deadlineDate);
                    oneDayBefore.setDate(oneDayBefore.getDate() - 1);
                    oneDayBefore.setHours(9, 0, 0, 0);
                    
                    if (oneDayBefore > new Date()) {
                        const notif2 = {
                            title: `${bookName}ã®æœŸé™ã¯æ˜æ—¥ï¼`,
                            message: 'å•é¡Œé›†ã®æå‡ºæœŸé™ãŒæ˜æ—¥ã§ã™',
                            datetime: oneDayBefore.toISOString().slice(0, 16),
                            source: 'å•é¡Œé›†ã‚¢ãƒ—ãƒª'
                        };
                        localStorage.setItem('notification-request', JSON.stringify(notif2));
                    }
                }, 100);
            }
            
            alert('é€šçŸ¥ãŒè¨­å®šã•ã‚Œã¾ã—ãŸï¼\n- 3æ—¥å‰: æœ9æ™‚\n- 1æ—¥å‰: æœ9æ™‚');
        }

        function deleteBook(bookId) {
            if (!confirm('ã“ã®å•é¡Œé›†ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return;

            subjects = subjects.map(s => {
                if (s.id === selectedSubjectId) {
                    return {
                        ...s,
                        books: s.books.filter(b => b.id !== bookId)
                    };
                }
                return s;
            });

            saveData();
            renderContent();
        }

        function addProgress(bookId) {
            const input = document.getElementById(`pages-${bookId}`);
            const pages = parseInt(input.value);
            if (!pages || pages <= 0) return;

            const today = new Date().toISOString().split('T')[0];

            subjects = subjects.map(s => {
                if (s.id === selectedSubjectId) {
                    return {
                        ...s,
                        books: s.books.map(b => {
                            if (b.id === bookId) {
                                return {
                                    ...b,
                                    completed: Math.min(b.completed + pages, b.totalPages),
                                    progress: [...b.progress, { date: today, pages }]
                                };
                            }
                            return b;
                        })
                    };
                }
                return s;
            });

            saveData();
            renderContent();
        }

        // Enterã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«é€ä¿¡
        document.getElementById('subjectName').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addSubject();
        });

        // åˆæœŸåŒ–
        loadData();
    </script>
</body>
</html>
